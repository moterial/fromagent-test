{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\GitHub\\\\fromagent\\\\client\\\\src\\\\pages\\\\yearlytarget.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useAuthState } from \"../authentication/authcontext.jsx\";\nimport Form from \"../components/form.jsx\";\nimport { GET_YEARLY_TARGET_PATH, SET_YEARLY_TARGET_PATH } from \"../consts/api.const.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fields = [{\n  key: \"profitTarget\",\n  label: \"營業額\",\n  type: \"number\"\n}, {\n  key: \"recruitmentTarget\",\n  label: \"求職者\",\n  type: \"number\"\n}];\nexport default function YearlyTargetPage() {\n  _s();\n\n  const [AuthState, setAuthState] = useAuthState();\n\n  const fetchTargets = async () => {\n    const response = await fetch(GET_YEARLY_TARGET_PATH, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ ...AuthState\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n    }).catch(error => {\n      alert(\"Error \" + error);\n      return error;\n    });\n    return response.targets;\n  };\n\n  const afterSubmit = async () => {\n    const targets = await fetchTargets();\n    setAuthState({\n      type: \"UPDATE\",\n      targets: {\n        profitTarget: targets.profitTarget,\n        recruitmentTarget: targets.recruitmentTarget\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column w-100 align-items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row w-90 p-10\",\n      children: \"\\u8ACB\\u8F38\\u5165\\u4F60\\u7684\\u5E74\\u5EA6\\u76EE\\u6A19\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row w-100\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        fieldsArray: fields,\n        API: SET_YEARLY_TARGET_PATH,\n        defaultValues: {\n          user: AuthState.username\n        },\n        afterSubmit: afterSubmit,\n        redirectAfterSubmit: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(YearlyTargetPage, \"hS5GWxmZIuzl9x5hLUGRlrQz2FU=\", false, function () {\n  return [useAuthState];\n});\n\n_c = YearlyTargetPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"YearlyTargetPage\");","map":{"version":3,"sources":["C:/Users/Michael/Documents/GitHub/fromagent/client/src/pages/yearlytarget.jsx"],"names":["React","useAuthState","Form","GET_YEARLY_TARGET_PATH","SET_YEARLY_TARGET_PATH","fields","key","label","type","YearlyTargetPage","AuthState","setAuthState","fetchTargets","response","fetch","method","credentials","headers","body","JSON","stringify","then","res","ok","json","catch","error","alert","targets","afterSubmit","profitTarget","recruitmentTarget","user","username"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,mCAA7B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,sBAAT,EAAiCC,sBAAjC,QAA+D,wBAA/D;;AAEA,MAAMC,MAAM,GAAG,CACX;AACIC,EAAAA,GAAG,EAAE,cADT;AAEIC,EAAAA,KAAK,EAAE,KAFX;AAGIC,EAAAA,IAAI,EAAE;AAHV,CADW,EAKR;AACCF,EAAAA,GAAG,EAAE,mBADN;AAECC,EAAAA,KAAK,EAAE,KAFR;AAGCC,EAAAA,IAAI,EAAE;AAHP,CALQ,CAAf;AAYA,eAAe,SAASC,gBAAT,GAA4B;AAAA;;AACvC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,YAAY,EAA9C;;AACA,QAAMW,YAAY,GAAG,YAAY;AAC7B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACX,sBAAD,EAAyB;AACjDY,MAAAA,MAAM,EAAE,MADyC;AAEjDC,MAAAA,WAAW,EAAE,SAFoC;AAGjDC,MAAAA,OAAO,EAAC;AACJ,wBAAgB;AADZ,OAHyC;AAMjDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAE,GAAGV;AAAL,OAAf;AAN2C,KAAzB,CAAL,CAOpBW,IAPoB,CAOdC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,EAAR,EAAY;AACR,eAAQD,GAAG,CAACE,IAAJ,EAAR;AACH;AACJ,KAXsB,EAYrBC,KAZqB,CAalBC,KAAD,IAAW;AACPC,MAAAA,KAAK,CAAC,WAAWD,KAAZ,CAAL;AACA,aAAQA,KAAR;AACH,KAhBkB,CAAvB;AAkBA,WAAOb,QAAQ,CAACe,OAAhB;AACH,GApBD;;AAqBA,QAAMC,WAAW,GAAG,YAAY;AAC5B,UAAMD,OAAO,GAAG,MAAMhB,YAAY,EAAlC;AACAD,IAAAA,YAAY,CACR;AACIH,MAAAA,IAAI,EAAE,QADV;AAEIoB,MAAAA,OAAO,EAAE;AACLE,QAAAA,YAAY,EAAEF,OAAO,CAACE,YADjB;AAELC,QAAAA,iBAAiB,EAAEH,OAAO,CAACG;AAFtB;AAFb,KADQ,CAAZ;AASH,GAXD;;AAYA,sBACI;AAAK,IAAA,SAAS,EAAC,6CAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI,QAAC,IAAD;AACI,QAAA,WAAW,EAAE1B,MADjB;AAEI,QAAA,GAAG,EAAED,sBAFT;AAGI,QAAA,aAAa,EAAE;AAAE4B,UAAAA,IAAI,EAAEtB,SAAS,CAACuB;AAAlB,SAHnB;AAII,QAAA,WAAW,EAAEJ,WAJjB;AAKI,QAAA,mBAAmB,EAAE;AALzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;GAjDuBpB,gB;UACcR,Y;;;KADdQ,gB","sourcesContent":["import React from \"react\";\r\nimport { useAuthState } from \"../authentication/authcontext.jsx\";\r\nimport Form from \"../components/form.jsx\";\r\nimport { GET_YEARLY_TARGET_PATH, SET_YEARLY_TARGET_PATH } from \"../consts/api.const.js\";\r\n\r\nconst fields = [\r\n    {\r\n        key: \"profitTarget\",\r\n        label: \"營業額\",\r\n        type: \"number\"\r\n    }, {\r\n        key: \"recruitmentTarget\",\r\n        label: \"求職者\",\r\n        type: \"number\"\r\n    }\r\n];\r\n\r\nexport default function YearlyTargetPage() {\r\n    const [AuthState, setAuthState] = useAuthState();\r\n    const fetchTargets = async () => {\r\n        const response = await fetch(GET_YEARLY_TARGET_PATH, {\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            headers:{ \r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ ...AuthState })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return (res.json())\r\n            }\r\n        }\r\n        ).catch(\r\n            (error) => {\r\n                alert(\"Error \" + error)\r\n                return (error);\r\n            }\r\n        )\r\n        return response.targets;\r\n    }\r\n    const afterSubmit = async () => {\r\n        const targets = await fetchTargets();\r\n        setAuthState(\r\n            {\r\n                type: \"UPDATE\",\r\n                targets: {\r\n                    profitTarget: targets.profitTarget,\r\n                    recruitmentTarget: targets.recruitmentTarget\r\n                }\r\n            }\r\n        );\r\n    }\r\n    return (\r\n        <div className=\"d-flex flex-column w-100 align-items-center\">\r\n            <div className=\"row w-90 p-10\">請輸入你的年度目標</div>\r\n            <div className=\"row w-100\">\r\n                <Form\r\n                    fieldsArray={fields}\r\n                    API={SET_YEARLY_TARGET_PATH}\r\n                    defaultValues={{ user: AuthState.username }}\r\n                    afterSubmit={afterSubmit}\r\n                    redirectAfterSubmit={true}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}